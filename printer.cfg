[include mainsail.cfg]
[include helpers/helpers.cfg]
[include configs/configs.cfg]
[include macros/macros.cfg]
[include KAMP_Settings.cfg]
[include toolchanger/toolchanger-include.cfg]


#####################################################################
#   UUID Setting
#####################################################################
[mcu]
canbus_uuid: ef4796d82823

[mcu host]
serial: /tmp/klipper_host_mcu

[printer]
kinematics: corexy
max_velocity: 600
max_accel: 20000
max_z_velocity: 180
max_z_accel: 800
square_corner_velocity: 5

[quad_gantry_level]
gantry_corners:
	-60,-10
	410,420

points:
	30,30
	30,320
	320,320
	320,30
speed: 400
horizontal_move_z: 6
retries: 5
retry_tolerance: 0.006
max_adjust: 10
use_probe_xy_offsets: True
adaptive_horizontal_move_z: True

[bed_mesh]
speed: 200
horizontal_move_z: 5
mesh_min: 30,30
mesh_max: 330,330
probe_count: 20,20
algorithm: bicubic
bicubic_tension: 0.2

[force_move]
enable_force_move: True

[display]
#	mini12864 LCD Display
lcd_type: uc1701
cs_pin: EXP1_3
a0_pin: EXP1_4
rst_pin: EXP1_5
encoder_pins: ^EXP2_5, ^EXP2_3
click_pin: ^!EXP1_2
contrast: 63
spi_software_miso_pin: EXP2_1
spi_software_mosi_pin: EXP2_6
spi_software_sclk_pin: EXP2_2

[neopixel btt_mini12864]
#	To control Neopixel RGB in mini12864 display
pin: EXP1_6
chain_count: 3
initial_RED: 0.1
initial_GREEN: 0.5
initial_BLUE: 0.0
color_order: RGB

#################################################
################### Disco Led ###################
#################################################
[neopixel disco1]
pin: PD15
chain_count: 50
color_order: GRB
initial_RED: 1.0
initial_GREEN: 1.0
initial_BLUE: 1.0

[board_pins]
aliases:
    # EXP1 header
    EXP1_1=PE7, EXP1_2=PG1,
    EXP1_3=PG0, EXP1_4=PF15,
    EXP1_5=PF14, EXP1_6=PF13,    # Slot in the socket on this side
    EXP1_7=PF12, EXP1_8=PF11,
    EXP1_9=<GND>, EXP1_10=<5V>,

    # EXP2 header
    EXP2_1=PE13, EXP2_2=PE12,
    EXP2_3=PE15, EXP2_4=PE11,
    EXP2_5=PE10, EXP2_6=PE14,      # Slot in the socket on this side
    EXP2_7=PE8, EXP2_8=<RST>,
    EXP2_9=<GND>, EXP2_10=<NC>

# Enable object exclusion
[exclude_object]

# Enable arcs support
[gcode_arcs]
resolution: 0.3

[rounded_path]
resolution: 0.2 # the length of a circle approximation segments.
replace_g0: False # Use at your own risk

# Voron rec settings...
[resonance_tester]
accel_chip: adxl345 t0
probe_points:
     175, 175, 20  
accel_per_hz: 100
sweeping_accel: 400
sweeping_period: 0

[input_shaper]

[skew_correction] 

[delayed_gcode filament_sensors]
initial_duration: 1
gcode: 
  DISABLE_ALL_FILAMENT_SENSORS

## UNSAFE_MOVE_TOOL
## Move the toolhead without homing
########## Parameters ##########
## X: The X distance to move by (default: 0) mm
## Y: The Y distance to move by (default: 0) mm
## Z: The Z distance to move by (default: 0) mm
## F: The feedrate to use (default: 10) mm/s
[gcode_macro UNSAFE_MOVE_TOOL]
description: Move the toolhead without homing
gcode:
    {% set z = params.Z|default(0)|float %}
    {% set x = params.X|default(0)|float %}
    {% set y = params.Y|default(0)|float %}
    {% set f = params.F|default(10)|float %}
    G90
    SET_KINEMATIC_POSITION Z={(printer.toolhead.axis_maximum.z/2)} X={(printer.toolhead.axis_maximum.x/2)} Y={(printer.toolhead.axis_maximum.y/2)}
    G0 X{(printer.toolhead.axis_maximum.x/2)+x} Y{(printer.toolhead.axis_maximum.y/2)+y} Z{(printer.toolhead.axis_maximum.z/2)+z} F{ (f*60) }
    M84

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 57.934
#*# pid_ki = 3.090
#*# pid_kd = 271.567
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  0.127772, 0.103509, 0.082067, 0.073484, 0.069742, 0.075008, 0.090979, 0.106568, 0.114571, 0.121900, 0.126072, 0.131878, 0.128640, 0.128278, 0.112212, 0.091979, 0.093750, 0.090559, 0.115223, 0.131395
#*# 	  0.104808, 0.087544, 0.065541, 0.056787, 0.053437, 0.062996, 0.072925, 0.088262, 0.097079, 0.104579, 0.111530, 0.115966, 0.107291, 0.103775, 0.099396, 0.086857, 0.083310, 0.087617, 0.104673, 0.118496
#*# 	  0.090569, 0.073013, 0.054574, 0.046449, 0.044743, 0.049140, 0.059053, 0.079178, 0.083654, 0.089478, 0.094909, 0.102390, 0.095993, 0.087948, 0.079516, 0.070292, 0.066734, 0.069536, 0.085867, 0.095029
#*# 	  0.086548, 0.067692, 0.052826, 0.043746, 0.038474, 0.044724, 0.051682, 0.069358, 0.080123, 0.085425, 0.087863, 0.090702, 0.087177, 0.076897, 0.062709, 0.053534, 0.052088, 0.057532, 0.069972, 0.079592
#*# 	  0.074712, 0.057543, 0.041359, 0.032930, 0.026962, 0.032315, 0.039466, 0.048458, 0.061709, 0.067669, 0.072820, 0.075785, 0.070156, 0.058903, 0.048112, 0.035624, 0.033546, 0.040207, 0.053672, 0.070945
#*# 	  0.057388, 0.040609, 0.026531, 0.018533, 0.012668, 0.017142, 0.019841, 0.040016, 0.044865, 0.054252, 0.060097, 0.058469, 0.056689, 0.045709, 0.031465, 0.019064, 0.019685, 0.026536, 0.045123, 0.056995
#*# 	  0.039679, 0.023859, 0.009329, 0.004330, -0.002666, -0.005163, 0.007589, 0.018393, 0.024607, 0.031804, 0.037970, 0.038809, 0.032093, 0.019314, 0.009461, 0.000162, -0.001968, 0.007115, 0.024150, 0.039017
#*# 	  0.028197, 0.011109, -0.002772, -0.013758, -0.020322, -0.014139, -0.006336, 0.001229, 0.004747, 0.009967, 0.016354, 0.018499, 0.012723, 0.002424, -0.003053, -0.011960, -0.016100, -0.007678, 0.009528, 0.024418
#*# 	  0.019597, 0.002012, -0.013380, -0.022818, -0.028270, -0.025187, -0.019089, -0.012012, -0.007235, -0.003581, 0.004996, 0.003650, -0.003595, -0.009439, -0.015546, -0.027737, -0.030937, -0.021607, -0.002784, 0.017097
#*# 	  0.016890, -0.009458, -0.027951, -0.039053, -0.045232, -0.043734, -0.031094, -0.019177, -0.014376, -0.007665, -0.001942, -0.002513, -0.010515, -0.019134, -0.024663, -0.036077, -0.035307, -0.028297, -0.006763, 0.011956
#*# 	  0.021734, 0.002783, -0.013608, -0.028223, -0.038200, -0.037027, -0.030053, -0.013594, -0.011877, -0.003367, 0.001863, 0.003255, 0.001001, -0.009482, -0.019921, -0.031608, -0.032861, -0.023288, -0.001984, 0.017182
#*# 	  0.030259, 0.009549, -0.006818, -0.021759, -0.027796, -0.023653, -0.015591, -0.007378, -0.000776, 0.006738, 0.012193, 0.013467, 0.008770, -0.002186, -0.011866, -0.029457, -0.025878, -0.017350, 0.005704, 0.025314
#*# 	  0.031931, 0.014012, -0.000676, -0.010421, -0.017331, -0.011973, -0.005133, 0.003892, 0.009297, 0.016379, 0.019760, 0.019504, 0.013300, 0.003283, -0.000903, -0.018110, -0.015376, -0.005805, 0.011426, 0.031477
#*# 	  0.039314, 0.024654, 0.010580, 0.002859, -0.002312, 0.001503, 0.007758, 0.019696, 0.023687, 0.030309, 0.035540, 0.031389, 0.023868, 0.015388, 0.012802, -0.001867, 0.002584, 0.009950, 0.025325, 0.044548
#*# 	  0.043922, 0.029613, 0.017479, 0.010000, 0.007716, 0.012686, 0.020968, 0.031643, 0.029730, 0.039608, 0.045801, 0.045531, 0.036775, 0.027661, 0.021358, 0.007247, 0.006402, 0.015436, 0.029186, 0.050445
#*# 	  0.053032, 0.038380, 0.026422, 0.021593, 0.020010, 0.024080, 0.031471, 0.041493, 0.043445, 0.053718, 0.063987, 0.070969, 0.066657, 0.047606, 0.034545, 0.019634, 0.021070, 0.026514, 0.042172, 0.064628
#*# 	  0.073395, 0.056181, 0.043481, 0.036333, 0.038321, 0.043295, 0.048711, 0.058972, 0.064960, 0.076654, 0.097680, 0.117411, 0.110364, 0.076229, 0.053553, 0.035722, 0.039299, 0.046446, 0.058271, 0.080795
#*# 	  0.093184, 0.075344, 0.064396, 0.057133, 0.055378, 0.059383, 0.064008, 0.074314, 0.083246, 0.097490, 0.123421, 0.151357, 0.140862, 0.102229, 0.073699, 0.054864, 0.055752, 0.064050, 0.073467, 0.099543
#*# 	  0.113085, 0.094523, 0.081340, 0.073485, 0.072045, 0.075084, 0.080770, 0.094463, 0.103720, 0.118090, 0.139498, 0.160672, 0.151587, 0.120860, 0.091735, 0.076968, 0.072054, 0.082598, 0.098242, 0.125184
#*# 	  0.152710, 0.128360, 0.112507, 0.106319, 0.105026, 0.108954, 0.116253, 0.126459, 0.133604, 0.144903, 0.161996, 0.171643, 0.163715, 0.145078, 0.126067, 0.107967, 0.112383, 0.119578, 0.141223, 0.163927
#*# x_count = 20
#*# y_count = 20
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 30.0
#*# max_x = 330.0
#*# min_y = 30.0
#*# max_y = 330.0
#*#
#*# [skew_correction calilantern_skew_profile]
#*# xy_skew = 0.0032979602865919576
#*# xz_skew = 0.00010253053936317113
#*# yz_skew = 0.0020025315655494993
#*#
#*# [beacon model default]
#*# model_coef = 1.4784637133418979,
#*# 	1.8396211823874908,
#*# 	0.8229941363869372,
#*# 	0.3433645034234267,
#*# 	0.34368302713894006,
#*# 	0.49073941177459707,
#*# 	-0.25593273396157584,
#*# 	-0.6138233778315136,
#*# 	0.2103233509381957,
#*# 	0.3416908953242176
#*# model_domain = 1.8282983193970783e-07,1.9301257679851348e-07
#*# model_range = 0.200833,5.000833
#*# model_temp = 13.497077
#*# model_offset = 0.00000
